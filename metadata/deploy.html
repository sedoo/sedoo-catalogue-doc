<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Déploiement   | CATALOGUE AERIS</title>
    <meta name="description" content="by Sedoo">
    
    
    <link rel="preload" href="/sedoo-catalogue-doc/assets/css/styles.91d0e13d.css" as="style"><link rel="preload" href="/sedoo-catalogue-doc/assets/js/app.91d0e13d.js" as="script"><link rel="preload" href="/sedoo-catalogue-doc/assets/js/14.860f3585.js" as="script"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/1.bf1e5871.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/10.8dfbf41e.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/11.2a88ac4a.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/12.48c495dd.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/13.771829e4.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/15.68c56a74.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/16.27744ff8.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/17.d0fd8426.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/18.d4d4ad3c.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/19.3378f1b1.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/2.14b28614.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/20.1069b83c.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/21.8e533de2.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/22.109dd519.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/23.70966f49.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/3.f1de7933.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/4.9a9e73ef.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/5.be08c6fc.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/6.6e38fb31.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/7.a7373b4d.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/8.b760dbb6.js"><link rel="prefetch" href="/sedoo-catalogue-doc/assets/js/9.65f2b2a3.js">
    <link rel="stylesheet" href="/sedoo-catalogue-doc/assets/css/styles.91d0e13d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/sedoo-catalogue-doc/" class="home-link router-link-active"><!----><span class="site-name">
      CATALOGUE AERIS
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/sedoo-catalogue-doc/" class="nav-link">Home</a></div><div class="nav-item"><a href="/sedoo-catalogue-doc/catalog/" class="nav-link">Catalogue</a></div><div class="nav-item"><a href="/sedoo-catalogue-doc/metadata/" class="nav-link router-link-active">Blocs de métadonnées</a></div><div class="nav-item"><a href="/sedoo-catalogue-doc/searchcriteria/" class="nav-link">Blocs de critère de recherche</a></div><div class="nav-item"><a href="https://git.icare.univ-lille1.fr/aeris/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/sedoo-catalogue-doc/" class="nav-link">Home</a></div><div class="nav-item"><a href="/sedoo-catalogue-doc/catalog/" class="nav-link">Catalogue</a></div><div class="nav-item"><a href="/sedoo-catalogue-doc/metadata/" class="nav-link router-link-active">Blocs de métadonnées</a></div><div class="nav-item"><a href="/sedoo-catalogue-doc/searchcriteria/" class="nav-link">Blocs de critère de recherche</a></div><div class="nav-item"><a href="https://git.icare.univ-lille1.fr/aeris/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Blocs de Métadonnées</span><!----></p><ul class="sidebar-group-items"><li><a href="/sedoo-catalogue-doc/metadata/" aria-current="page" class="sidebar-link">Presentation</a></li><li><a href="/sedoo-catalogue-doc/metadata/install.html" class="sidebar-link">Installation</a></li><li><a href="/sedoo-catalogue-doc/metadata/deploy.html" aria-current="page" class="active sidebar-link">Déploiement  </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sedoo-catalogue-doc/metadata/deploy.html#les-scripts-npm" class="sidebar-link">Les scripts npm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sedoo-catalogue-doc/metadata/deploy.html#conversion-de-l-ensemble-des-sfc" class="sidebar-link">Conversion de l'ensemble des SFC :</a></li><li class="sidebar-sub-header"><a href="/sedoo-catalogue-doc/metadata/deploy.html#conversion-d-un-unique-sfc" class="sidebar-link">Conversion d'un unique SFC :</a></li><li class="sidebar-sub-header"><a href="/sedoo-catalogue-doc/metadata/deploy.html#conversion-et-déploiement-de-l-ensemble-des-modules-utilisés-par-la-catalogue" class="sidebar-link">Conversion et déploiement de l'ensemble des modules utilisés par la catalogue</a></li><li class="sidebar-sub-header"><a href="/sedoo-catalogue-doc/metadata/deploy.html#conversion-et-déploiement-du-web-composant-landing-page" class="sidebar-link">Conversion et déploiement du Web composant landing-page</a></li></ul></li></ul></li><li><a href="/sedoo-catalogue-doc/metadata/limitation.html" class="sidebar-link">Limitations</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="deploiement"><a href="#deploiement" aria-hidden="true" class="header-anchor">#</a> Déploiement</h1><p>Pour le déploiement, l'url d'upload des modules sur le cdn du sedoo est la suivante :
<code>https://services.aeris-data.fr/cdn/blockrepo/v1_0/upload/</code></p><p>Si vous devez changer l'url d'upload, modifiez la valeur de la variable URL dans le fichier deploy.config.js La liste des modules déployés est visible à cette adresse: <code>https://services.aeris-data.fr/cdn/blockrepo/v1_0/list</code></p><h2 id="les-scripts-npm"><a href="#les-scripts-npm" aria-hidden="true" class="header-anchor">#</a> Les scripts npm</h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Il y a deux types de modules dans ce projet :</p><ul><li>les modules utilisés par le catalogue nécessitant un <code>npm run build:module ...</code> ou <code>run build:modules...</code> plus un <code>npm run deploy</code> pour être déployés,</li><li>le webcomposant landing page nécessitant un &quot;npm run build&quot; pour être déployé.
Si le projet aeris-catalogue-components a été mis à jour, supprimez /node_modules et refaites un <code>npm run install:roll</code></li></ul><p>L'ensemble des scripts ont était testé sous Linux ( utilisation de la commande rm etc. ), adaptez votre environnement de développement en conséquence. Dans le fichier package.json, plusieurs scripts on été créé pour faciliter la création et le déploiement des modules ESM.</p></div><p>Les scripts sont les suivants.</p><h3 id="conversion-de-l-ensemble-des-sfc"><a href="#conversion-de-l-ensemble-des-sfc" aria-hidden="true" class="header-anchor">#</a> Conversion de l'ensemble des SFC :</h3><p><code>modules utilisés par le catalogue</code></p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build:module
</code></pre></div><p>Permet la création des modules listés dans le fichier rollupBuildAllComponents.config.js. Cela signifie que vous devez rajouter le path vers tout SFC que vous souhaitez convertir en module ESM dans ce fichier par exemple :</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span>  ComponentVue  <span class="token operator">=</span>  <span class="token punctuation">[</span>
<span class="token string">&quot;./src/lib/modules/aeris-metadata-blocks/aeris-hello-world/aeris-hello-world.vue&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="conversion-d-un-unique-sfc"><a href="#conversion-d-un-unique-sfc" aria-hidden="true" class="header-anchor">#</a> Conversion d'un unique SFC :</h3><p><code>modules utilisé par le catalogue</code></p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build:module
</code></pre></div><p>La même chose que précédemment à la différence qu'il ne convertie qu'un bloc de la manière suivante :</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build:module -- --input Path/to/file.ext --file <span class="token string">&quot;path/and/name/for/the/output/file&quot;</span>
</code></pre></div><p>Par exemple :</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build:module -- --input <span class="token string">&quot;src/lib/modules/aeris-metadata-blocks/aeris-metadata-citations/aeris-metadata-citations.vue&quot;</span> 
--file <span class="token string">&quot;module/aeris-metadata-citation.vue.esm.js&quot;</span>
</code></pre></div><h3 id="conversion-et-déploiement-de-l-ensemble-des-modules-utilisés-par-la-catalogue"><a href="#conversion-et-déploiement-de-l-ensemble-des-modules-utilisés-par-la-catalogue" aria-hidden="true" class="header-anchor">#</a> Conversion et déploiement de l'ensemble des modules utilisés par la catalogue</h3><p>Pour ce faire utilisez le script suivant :</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run deploy:modules
</code></pre></div><h3 id="conversion-et-déploiement-du-web-composant-landing-page"><a href="#conversion-et-déploiement-du-web-composant-landing-page" aria-hidden="true" class="header-anchor">#</a> Conversion et déploiement du Web composant landing-page</h3><p>Pour ce faire :</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build
</code></pre></div></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/sedoo-catalogue-doc/metadata/install.html" class="prev">
          Installation
        </a></span><span class="next"><a href="/sedoo-catalogue-doc/metadata/limitation.html">
          Limitations
        </a> →
      </span></p></div></div></div></div>
    <script src="/sedoo-catalogue-doc/assets/js/app.91d0e13d.js" defer></script><script src="/sedoo-catalogue-doc/assets/js/14.860f3585.js" defer></script>
  </body>
</html>
